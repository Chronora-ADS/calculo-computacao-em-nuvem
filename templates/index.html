<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora de Custos em Nuvem</title>
    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <h1>alculadora de Custos em Nuvem</h1>
    <!--   on_demand_hourly (preço/hora on-demand, ex.: 0.0416)
    ● reserved_discount_pct (desconto sobre o on-demand, ex.: 60 significa 60%)
    ● instances_total (número total de instâncias)
    ● hours_per_month (padrão: 730)
    ● reserved_share_pct (0–100, fração de instâncias indo para reservadas)
    ● reserved_upfront_monthly (opcional, amortização mensal do upfront por instância
    reservada; padrão 0)   -->
    <form method="post">
      <label for="price">Preço/Hora on-demand</label>
      <input type="number" name="on_demand_hourly" id="on_demand_hourly" placeholder="Ex.: 0.0416" />

      <label for="reserved_discoun_pct">(%) Desconto reservadas:</label>
      <input type="number" name="reserved_discoun_pct" id="reserved_discoun_pct" placeholder="Ex.: 60%" />

      <label for="desconto">Instâncias reservadas:</label>
      <input type="number" name="instances_total" id="instances_total" placeholder="Ex.: 1" />

      <label for="horaspormes">Horas por mês:</label>
      <input type="number" id="hours_per_month" placeholder="730" />

      <label for="reserved_share_pct">Fração de instâncias que serão reservadas</label>
      <select name="reserved_share_pct" id="reserved_share_pct">
        <option value="50">50%</option>
        <option value="80">80%</option>
        <option value="100">100%</option>
        <option id="other_reserved_share_pct" value="Other">Outro</option>
      </select>
      <input type="number" name="other_reserved_share_pct_input" id="other_reserved_share_pct_input" />

      <label for="upfrontmensal">Upfront mensal reservado:</label>
      <input type="number" id="reserved_upfront_monthly" placeholder="0" value="0" />

      <button type="submit">Enviar</button>
    </form>
    <script>
      const reserved_share_pct = document.getElementById('reserved_share_pct')
      const other_reserved_share_pct_input = document.getElementById('other_reserved_share_pct_input')
      
      // Esconde o campo inicialmente
      other_reserved_share_pct_input.style.display = 'none'
      
      reserved_share_pct.addEventListener('change', function () {
        if (reserved_share_pct.value === 'Other') {
          other_reserved_share_pct_input.style.display = 'block'
        } else {
          other_reserved_share_pct_input.style.display = 'none'
        }
      })
    </script>
  </body>
</html>
